{"version":3,"file":"1-timer-CeDJfad9.js","sources":["../../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\n// Optional import of styles\nimport 'flatpickr/dist/flatpickr.min.css';\n// Described in the documentation\nimport iziToast from 'izitoast';\n// Optional import of styles\nimport 'izitoast/dist/css/iziToast.min.css';\nlet userSelectedDate = null;\nconst dateTimeNow = new Date();\nconst button = document.getElementById('myButton');\n\nlet timerId = 0;\n\nfunction startTimer() {\n  timerId = setInterval(showTimeLeft, 1000);\n  console.log('Timer started, ID: ', timerId);\n  callendar[0].disabled = true;\n  console.log(callendar);\n  button.disabled = true;\n  console.log('Callendar and button disabled');\n}\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n\n  onClose(selectedDates) {\n    console.log(selectedDates[0]);\n    const now = new Date();\n    if (selectedDates[0] < now) {\n      iziToast.warning({\n        title: 'Oh no!',\n        message: 'Please choose a date in the future',\n        position: 'topRight',\n        timeout: 5000,\n      });\n      button.disabled = true; // Ustawienie przycisku na disabled\n      console.log('Callendar disabled');\n      clearInterval(timerId);\n      console.log('Timer stopped, ID: ', timerId);\n    } else {\n      userSelectedDate = selectedDates[0];\n      const timeLeft = userSelectedDate - now;\n      const { days, hours, minutes, seconds } = convertMs(timeLeft);\n      iziToast.success({\n        title: 'Great!',\n        message: `Time left: ${days} days, ${hours} hours, ${minutes} minutes, ${seconds} seconds`,\n        position: 'topRight',\n        timeout: 5000,\n      });\n      button.disabled = false; // Ustawienie przycisku na aktywny\n    }\n  },\n};\n\nfunction showTimeLeft() {\n  const timeLeft = userSelectedDate - new Date();\n  if (timeLeft <= 0) {\n    clearInterval(timerId);\n    console.log('Timer stopped, ID: ', timerId);\n    iziToast.success({\n      title: 'OK!',\n      message: 'Time is up!',\n      position: 'topRight',\n      timeout: 5000,\n    });\n    callendar[0].disabled = false;\n    button.disabled = false;\n    return;\n  }\n  const { days, hours, minutes, seconds } = convertMs(timeLeft);\n  const daysHtml = document.getElementById('days');\n  daysHtml.textContent = days;\n  const hoursHtml = document.getElementById('hours');\n  hoursHtml.textContent = hours;\n  const minutesHtml = document.getElementById('minutes');\n  minutesHtml.textContent = minutes;\n  const secondsHtml = document.getElementById('seconds');\n  secondsHtml.textContent = seconds;\n\n  //   console.log(daysHtml);\n}\n\nfunction addLeadingZero(value, length = 2) {\n  // Konwertuje wartość na ciąg znaków i dodaje wiodące zera\n  return String(value).padStart(length, '0');\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = addLeadingZero(Math.floor(ms / day));\n  // Remaining hours\n  const hours = addLeadingZero(Math.floor((ms % day) / hour));\n  // Remaining minutes\n  const minutes = addLeadingZero(Math.floor(((ms % day) % hour) / minute));\n  // Remaining seconds\n  const seconds = addLeadingZero(\n    Math.floor((((ms % day) % hour) % minute) / second)\n  );\n\n  return { days, hours, minutes, seconds };\n}\n\n//nowa instancja flatpickr\nflatpickr('#datetime-picker', options);\nconst callendar = document.querySelectorAll('.flatpickr-input');\nif (callendar) {\n  console.log('callendar found');\n  console.log(callendar);\n} else {\n  console.log('Callendar not found');\n}\n\nbutton.addEventListener('click', () => {\n  console.log('Button clicked');\n  startTimer(); // Wywołanie funkcji\n});\n"],"names":["userSelectedDate","button","timerId","startTimer","showTimeLeft","callendar","options","selectedDates","now","iziToast","timeLeft","days","hours","minutes","seconds","convertMs","daysHtml","hoursHtml","minutesHtml","secondsHtml","addLeadingZero","value","length","ms","flatpickr"],"mappings":"gDAOA,IAAIA,EAAmB,KAEvB,MAAMC,EAAS,SAAS,eAAe,UAAU,EAEjD,IAAIC,EAAU,EAEd,SAASC,GAAa,CACpBD,EAAU,YAAYE,EAAc,GAAI,EACxC,QAAQ,IAAI,sBAAuBF,CAAO,EAC1CG,EAAU,CAAC,EAAE,SAAW,GACxB,QAAQ,IAAIA,CAAS,EACrBJ,EAAO,SAAW,GAClB,QAAQ,IAAI,+BAA+B,CAC7C,CAEA,MAAMK,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EAEjB,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EAC5B,MAAMC,EAAM,IAAI,KAChB,GAAID,EAAc,CAAC,EAAIC,EACrBC,EAAS,QAAQ,CACf,MAAO,SACP,QAAS,qCACT,SAAU,WACV,QAAS,GACjB,CAAO,EACDR,EAAO,SAAW,GAClB,QAAQ,IAAI,oBAAoB,EAChC,cAAcC,CAAO,EACrB,QAAQ,IAAI,sBAAuBA,CAAO,MACrC,CACLF,EAAmBO,EAAc,CAAC,EAClC,MAAMG,EAAWV,EAAmBQ,EAC9B,CAAE,KAAAG,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAQ,EAC5DD,EAAS,QAAQ,CACf,MAAO,SACP,QAAS,cAAcE,CAAI,UAAUC,CAAK,WAAWC,CAAO,aAAaC,CAAO,WAChF,SAAU,WACV,QAAS,GACjB,CAAO,EACDb,EAAO,SAAW,EACnB,CACF,CACH,EAEA,SAASG,GAAe,CACtB,MAAMM,EAAWV,EAAmB,IAAI,KACxC,GAAIU,GAAY,EAAG,CACjB,cAAcR,CAAO,EACrB,QAAQ,IAAI,sBAAuBA,CAAO,EAC1CO,EAAS,QAAQ,CACf,MAAO,MACP,QAAS,cACT,SAAU,WACV,QAAS,GACf,CAAK,EACDJ,EAAU,CAAC,EAAE,SAAW,GACxBJ,EAAO,SAAW,GAClB,MACD,CACD,KAAM,CAAE,KAAAU,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAQ,EACtDM,EAAW,SAAS,eAAe,MAAM,EAC/CA,EAAS,YAAcL,EACvB,MAAMM,EAAY,SAAS,eAAe,OAAO,EACjDA,EAAU,YAAcL,EACxB,MAAMM,EAAc,SAAS,eAAe,SAAS,EACrDA,EAAY,YAAcL,EAC1B,MAAMM,EAAc,SAAS,eAAe,SAAS,EACrDA,EAAY,YAAcL,CAG5B,CAEA,SAASM,EAAeC,EAAOC,EAAS,EAAG,CAEzC,OAAO,OAAOD,CAAK,EAAE,SAASC,EAAQ,GAAG,CAC3C,CAEA,SAASP,EAAUQ,EAAI,CAQrB,MAAMZ,EAAOS,EAAe,KAAK,MAAMG,EAAK,KAAG,CAAC,EAE1CX,EAAQQ,EAAe,KAAK,MAAOG,EAAK,MAAO,IAAI,CAAC,EAEpDV,EAAUO,EAAe,KAAK,MAAQG,EAAK,MAAO,KAAQ,GAAM,CAAC,EAEjET,EAAUM,EACd,KAAK,MAASG,EAAK,MAAO,KAAQ,IAAU,GAAM,CACtD,EAEE,MAAO,CAAE,KAAAZ,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAGAU,EAAU,mBAAoBlB,CAAO,EACrC,MAAMD,EAAY,SAAS,iBAAiB,kBAAkB,EAC1DA,GACF,QAAQ,IAAI,iBAAiB,EAC7B,QAAQ,IAAIA,CAAS,GAErB,QAAQ,IAAI,qBAAqB,EAGnCJ,EAAO,iBAAiB,QAAS,IAAM,CACrC,QAAQ,IAAI,gBAAgB,EAC5BE,GACF,CAAC"}